# ai-MyNotes 開発タスクリスト

このタスクリストは `PROPOSAL.md` の開発スケジュールに基づいています。

## フェーズ1: MVP機能の実装

### 1.1. 環境構築・プロジェクト設定
- [x] Flutter SDK のインストールとパス設定
- [x] Xcode / Android Studio のセットアップと動作確認
- [x] `flutter create ai_my_notes` でプロジェクトを作成
- [x] プロジェクトのディレクトリ構成を決定 (lib/src, lib/src/ui, lib/src/domain, lib/src/data)
- [x] `pubspec.yaml` に必要なライブラリを追加 (sqflite, path_provider など)
- [x] Linter (`analysis_options.yaml`) の設定

### 1.2. データベース層 (レイヤー) の実装
- [x] データベースヘルパークラス (`database_helper.dart`) の作成
- [x] DB接続と `notes` テーブルを作成する初期化処理の実装
- [x] Noteモデルクラス (`note.dart`) の作成 (Value Object)
- [x] メモをDBに追加するメソッドの実装 (Create)
- [x] IDでメモをDBから取得するメソッドの実装 (Read)
- [x] 全てのメモをDBから取得するメソッドの実装 (Read)
- [x] メモをDBで更新するメソッドの実装 (Update)
- [x] メモをDBから削除するメソッドの実装 (Delete)

### 1.3. UI層 (レイヤー) とドメインロジックの実装
- [x] `note_list_screen.dart` ファイルの作成
- [x] `note_edit_screen.dart` ファイルの作成
- [x] DBから全メモを取得し、リスト表示するロジックの実装
- [x] メモのタイトル・内容・更新日時を表示するリストアイテムUIの作成
- [x] メモの保存（Create/Update）ロジックの実装
- [x] 一覧と編集画面の間の画面遷移とデータ連携の実装

### 1.4. テストとリファクタリング
- [x] データベース層の単体テスト作成と実行
- [x] UI層のテスト準備（Mockitoの導入）
- [x] 依存性注入（DI）のためのリファクタリング
- [x] UI層（ウィジェットテスト）のテスト作成と実行

### 1.5. UI改善
- [x] メモ一覧をグリッド表示からカードリスト表示に変更
- [x] メモ一覧のカードに作成日時を追加

## フェーズ2: 基本機能の改善

### 2.1. リアルタイム保存
- [x] テキスト入力中にタイマーを設定し、入力が止まったら保存処理を呼び出すロジックの実装
- [x] 保存処理中にインジケーターを表示するなど、UIフィードバックの実装
- [x] リアルタイム保存ロジックの単体テスト作成

### 2.2. 全文検索
- [ ] メモ一覧画面に検索バーUIを追加
- [ ] 検索バーの入力テキストに応じて、DBに検索クエリを投げる処理の実装
- [ ] `notes` テーブルの `content` カラムに対して `LIKE` 句を使った検索メソッドをDBヘルパーに追加
- [ ] 検索結果をメモ一覧にリアルタイムで反映させるロジックの実装
- [ ] 全文検索ロジックの単体テスト作成
